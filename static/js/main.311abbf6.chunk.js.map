{"version":3,"sources":["utils/use-object-url.js","components/simple-tabs.jsx","components/info.jsx","utils/utils.js","components/reasons.jsx","components/confirm-dialog.jsx","components/history.jsx","components/form.jsx","components/error-boundary.jsx","components/pdf-dialog.jsx","App.js","reportWebVitals.js","index.js"],"names":["useObjectURL","initialObject","useState","objectURL","setObjectURL","object","setObject","useEffect","URL","createObjectURL","revokeObjectURL","useStyles","makeStyles","tabContent","padding","minHeight","TabPanel","props","classes","children","value","index","other","role","hidden","id","aria-labelledby","className","SimpleTabs","tabs","theme","useTheme","React","parseInt","localStorage","getItem","setValue","handleChange","useCallback","event","newValue","setItem","handleChangeIndex","tabElements","useMemo","Fragment","AppBar","position","color","Tabs","onChange","indicatorColor","textColor","variant","aria-label","map","tab","Tab","label","title","axis","direction","onChangeIndex","dir","content","Info","handleClear","Typography","href","alt","Button","onClick","getEmptyFields","fields","Object","entries","reduce","res","k","isProfileCompleted","length","blobToBase64","blob","reader","FileReader","readAsDataURL","Promise","resolve","onloadend","result","CODES","travail","achats","sante","famille","handicap","sport_animaux","convocation","missions","enfants","Reasons","selectReason","formData","items","reason","Grid","item","Tooltip","html","replace","code","Transition","forwardRef","ref","Fade","ConfirmDialog","open","handleDismiss","handleConfirm","Dialog","TransitionComponent","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","History","histortItems","setHistortItems","openHistortItem","itemIndexToDelete","setItemIndexToDelete","List","ListItem","ListItemAvatar","Avatar","firstname","lastname","ListItemText","primary","secondary","datesortie","heuresortie","ListItemSecondaryAction","IconButton","e","stopPropagation","edge","Visibility","Delete","splice","preview","marginTop","marginBottom","Form","editProfile","toggleEditProfile","profile","onChangeProfile","errorFields","setErrorFields","formDataUser","data","includes","key","type","placeholder","autocomplete","minlength","maxlength","min","max","pattern","inputmode","TextField","fullWidth","name","error","autoComplete","InputLabelProps","shrink","inputProps","minLength","maxLength","inputMode","container","justify","alignItems","spacing","endIcon","Edit","ErrorBoundary","state","hasError","errorInfo","console","log","this","window","location","reload","Component","appBar","marginLeft","flex","iframe","width","height","Slide","PDFDialog","url","handleClose","fullScreen","Toolbar","saveAs","GetApp","autoFocus","src","PROFILE_INIT","birthday","placeofbirth","address","zipcode","city","App","useObjectUrl","JSON","parse","setProfile","setEditProfile","b","stringify","p","target","a","fetch","base64","Paper","clear","Divider","creationInstant","Date","toLocaleDateString","toLocaleTimeString","hour","minute","generatePdf","pdfBase","histortItem","filter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.311abbf6.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\n/**\n * React Hook that receives an instance of `File`, `Blob` or `MediaSource` and\n * creates an URL representing it, providing a state object containing the file\n * with a set function to change the file object. It releases URL when component\n * unmount or parameter changes.\n * @param initialObject - `null` or an instance of `File`, `Blob` or `MediaSource`.\n */\nconst useObjectURL = (initialObject) => {\n  const [objectURL, setObjectURL] = useState();\n  const [object, setObject] = useState();\n  useEffect(() => {\n    if (!object) {\n      return;\n    }\n    const objectURL = URL.createObjectURL(object);\n    setObjectURL(objectURL);\n    return () => {\n      URL.revokeObjectURL(objectURL);\n      setObjectURL(null);\n    };\n  }, [object]);\n  useEffect(() => {\n    setObject(initialObject);\n  }, [initialObject]);\n  return [objectURL, object, setObject];\n};\nexport default useObjectURL;\n","import React, { useMemo, useCallback } from \"react\";\nimport SwipeableViews from \"react-swipeable-views\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\n\nconst useStyles = makeStyles({\n  tabContent: { padding: 20, minHeight: 620 }\n});\n\nfunction TabPanel(props) {\n  const classes = useStyles();\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && <div className={classes.tabContent}>{children}</div>}\n    </div>\n  );\n}\n\nexport default function SimpleTabs({ tabs }) {\n  const theme = useTheme();\n  const [value, setValue] = React.useState(\n    parseInt(localStorage.getItem(\"currentTab\")) || 0\n  );\n\n  const handleChange = useCallback((event, newValue) => {\n    setValue(newValue);\n    localStorage.setItem(\"currentTab\", newValue);\n  }, []);\n\n  const handleChangeIndex = useCallback((index) => {\n    setValue(index);\n    localStorage.setItem(\"currentTab\", index);\n  }, []);\n\n  const tabElements = useMemo(() => tabs(handleChangeIndex), [\n    tabs,\n    handleChangeIndex\n  ]);\n\n  return (\n    <React.Fragment>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n          aria-label=\"full width tabs example\"\n        >\n          {tabElements.map((tab, index) => (\n            <Tab key={index} label={tab.title} />\n          ))}\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\n        index={value}\n        onChangeIndex={handleChangeIndex}\n      >\n        {tabElements.map((tab, index) => (\n          <TabPanel\n            key={index}\n            value={value}\n            index={index}\n            dir={theme.direction}\n          >\n            {tab.content}\n          </TabPanel>\n        ))}\n      </SwipeableViews>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport { Typography, Button } from \"@material-ui/core\";\n\nexport default function Info({ handleClear }) {\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\">\n        COVID-19 ATTESTATION DE D√âPLACEMENT D√âROGATOIRE\n      </Typography>\n      <br />\n      <br />\n      <Typography variant=\"body2\">\n        Cette application a √©t√© cr√©√©e dans le but de faciliter la g√©n√©ration des\n        attestations de d√©placement d√©rogatoire.\n      </Typography>\n      <br />\n      <br />\n      <Typography variant=\"body2\">\n        En aucun cas l'auteur ne peut √™tre tenu pour responsable en cas du\n        non/mauvais fonctionnement de ce g√©n√©rateur.\n      </Typography>\n      <br />\n      <br />\n      <Typography variant=\"body2\">\n        <b>A UTILISER A BON ESCIENT ET A VOTRE PROPRE RISQUE.</b>\n      </Typography>\n      <br />\n      <br />\n      <Typography variant=\"body2\">\n        Toutes les donn√©es sont stock√©es localement.\n        <br />\n        Le g√©n√©rateur est le m√™me que celui utilis√© sur le site officiel.\n        <br />\n        Le code source de ce service est consultable sur{\" \"}\n        <a\n          href=\"https://github.com/RedFish/generateur-attestation\"\n          alt=\"code source\"\n        >\n          GitHub\n        </a>\n      </Typography>\n      <br />\n      <br />\n      <Button color=\"secondary\" onClick={handleClear}>\n        Effacer toutes mes donn√©es\n      </Button>\n    </React.Fragment>\n  );\n}\n","export function getEmptyFields(fields) {\n  return Object.entries(fields).reduce(\n    (res, [k, v]) => (!v ? [...res, k] : res),\n    []\n  );\n}\n\nexport function isProfileCompleted(fields) {\n  const emptyFields = getEmptyFields(fields);\n  return emptyFields.length === 0;\n}\n\nexport function stripHTMLTags(html) {\n  if (!html) return html;\n  return html.replace(/<[^>]*>?/gm, \"\");\n}\n\nexport function blobToBase64(blob) {\n  const reader = new FileReader();\n  reader.readAsDataURL(blob);\n  return new Promise((resolve) => {\n    reader.onloadend = () => {\n      resolve(reader.result);\n    };\n  });\n}\n","import formData from \"attestation-derogatoire-de-deplacement/src/form-data.json\";\nimport { Grid, Button, Tooltip } from \"@material-ui/core\";\nimport { stripHTMLTags } from \"../utils/utils\";\n\nexport const CODES = {\n  travail: \"Travail üíº\",\n  achats: \"Achats üõç\",\n  sante: \"Sant√© üíä\",\n  famille: \"Famille üë®‚Äçüë©‚Äçüë¶\",\n  handicap: \"handicap üë®‚Äçü¶º\",\n  sport_animaux: \"D√©placements brefs üêï\",\n  convocation: \"Convocation judiciaire ou administrative ‚öñÔ∏è\",\n  missions: \"Missions d'int√©r√™t g√©n√©ral üöß\",\n  enfants: \"Enfant üë∂üèª\"\n};\n\nexport function Reasons({ selectReason }) {\n  const reasons = formData[2][4].items;\n\n  return reasons.map((reason, index) => (\n    <Grid item key={index}>\n      <Tooltip title={stripHTMLTags(reason.label)}>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={() => {\n            selectReason(reason.code);\n          }}\n        >\n          {CODES[reason.code]}\n        </Button>\n      </Tooltip>\n    </Grid>\n  ));\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Fade from \"@material-ui/core/Fade\";\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Fade direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function ConfirmDialog({\n  title,\n  open,\n  handleDismiss,\n  handleConfirm\n}) {\n  return (\n    <Dialog\n      open={open}\n      TransitionComponent={Transition}\n      onClose={handleDismiss}\n    >\n      <DialogTitle id=\"alert-dialog-slide-title\">Attention</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-slide-description\">\n          {title}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleDismiss} color=\"primary\">\n          Non\n        </Button>\n        <Button onClick={handleConfirm} color=\"primary\" variant=\"contained\">\n          Supprimer\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  List,\n  ListItem,\n  ListItemAvatar,\n  Avatar,\n  ListItemText,\n  Typography,\n  ListItemSecondaryAction,\n  IconButton\n} from \"@material-ui/core\";\nimport { CODES } from \"./reasons\";\nimport { Delete, Visibility } from \"@material-ui/icons\";\nimport ConfirmDialog from \"./confirm-dialog\";\n\nexport default function History({\n  histortItems,\n  setHistortItems,\n  openHistortItem\n}) {\n  const [itemIndexToDelete, setItemIndexToDelete] = useState(null);\n\n  return histortItems.length === 0 ? (\n    <React.Fragment>\n      <br />\n      <br />\n      <Typography variant=\"body2\">L'historique est vide</Typography>\n      <br />\n      <br />\n    </React.Fragment>\n  ) : (\n    <React.Fragment>\n      <List>\n        {histortItems.map((item, index) => (\n          <ListItem key={index} onClick={() => openHistortItem(item)}>\n            <ListItemAvatar>\n              <Avatar>\n                {item.firstname[0]}\n                {item.lastname[0]}\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n              primary={CODES[item.reason]}\n              secondary={`${item.datesortie} √† ${item.heuresortie}`}\n            />\n            <ListItemSecondaryAction>\n              <IconButton\n                onClick={(e) => {\n                  e.stopPropagation();\n                  openHistortItem(item);\n                }}\n                edge=\"end\"\n                aria-label=\"show\"\n              >\n                <Visibility />\n              </IconButton>\n              <IconButton\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setItemIndexToDelete(index);\n                }}\n                edge=\"end\"\n                aria-label=\"delete\"\n              >\n                <Delete />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </List>\n\n      <ConfirmDialog\n        title={\"Etes vous sur de vouloir supprimer cette attestation ?\"}\n        open={itemIndexToDelete !== null}\n        handleDismiss={() => {\n          setItemIndexToDelete(null);\n        }}\n        handleConfirm={() => {\n          setHistortItems((histortItems) => {\n            const res = [...histortItems];\n            res.splice(itemIndexToDelete, 1);\n            return res;\n          });\n          setItemIndexToDelete(null);\n        }}\n      />\n    </React.Fragment>\n  );\n}\n","import formData from \"attestation-derogatoire-de-deplacement/src/form-data.json\";\nimport React, { useState, useMemo } from \"react\";\nimport { Grid, Button, TextField, Avatar, makeStyles } from \"@material-ui/core\";\nimport { isProfileCompleted, getEmptyFields } from \"../utils/utils\";\nimport { Edit } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles({\n  preview: {\n    marginTop: 10,\n    marginBottom: 10\n  }\n});\n\nexport default function Form({\n  editProfile,\n  toggleEditProfile,\n  profile,\n  onChangeProfile\n}) {\n  const classes = useStyles();\n  const [errorFields, setErrorFields] = useState([]);\n\n  //Extract user form data\n  const formDataUser = useMemo(() => {\n    return [...formData[0], ...formData[1]].map((data) => {\n      //Assign correct type\n      if ([\"birthday\"].includes(data.key)) {\n        return { ...data, type: \"date\" };\n      } else return data;\n    });\n  }, []);\n\n  return editProfile ? (\n    <React.Fragment>\n      {formDataUser.map(\n        ({\n          key,\n          type,\n          label,\n          placeholder,\n          autocomplete,\n          minlength,\n          maxlength,\n          min,\n          max,\n          pattern,\n          inputmode,\n          ...props\n        }) => {\n          return (\n            <Grid item key={key}>\n              <TextField\n                fullWidth\n                variant=\"outlined\"\n                label={label}\n                placeholder={placeholder}\n                name={key}\n                type={type}\n                error={errorFields.includes(key)}\n                onChange={onChangeProfile}\n                value={profile[key]}\n                autoComplete={autocomplete}\n                InputLabelProps={{\n                  shrink: true\n                }}\n                inputProps={{\n                  minLength: minlength,\n                  maxLength: maxlength,\n                  inputMode: inputmode,\n                  min,\n                  max,\n                  pattern\n                }}\n              />\n            </Grid>\n          );\n        }\n      )}\n      <Grid item>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={() => {\n            if (!isProfileCompleted(profile)) {\n              setErrorFields(getEmptyFields(profile));\n              return;\n            } else {\n              toggleEditProfile();\n            }\n          }}\n        >\n          Valider\n        </Button>\n      </Grid>\n    </React.Fragment>\n  ) : (\n    <Grid\n      className={classes.preview}\n      container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n    >\n      <Grid item>\n        <Avatar>\n          {profile.firstname[0]}\n          {profile.lastname[0]}\n        </Avatar>\n      </Grid>\n      <Grid item>\n        {profile.firstname} {profile.lastname}\n      </Grid>\n      <Grid item>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          endIcon={<Edit />}\n          onClick={toggleEditProfile}\n        >\n          Editer\n        </Button>\n      </Grid>\n    </Grid>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Typography, Button } from \"@material-ui/core\";\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.log({ error, errorInfo });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      //render fallback UI\n      return (\n        <React.Fragment>\n          <Typography variant=\"h6\">Une erreur est survenue</Typography>\n          <Typography variant=\"body1\">\n            N'h√©sitez pas √† contribuer sur GitHub pour am√©liorer cette\n            application\n          </Typography>\n\n          <Button\n            onClick={() => {\n              window.location.reload();\n            }}\n          >\n            Relancer l'application\n          </Button>\n        </React.Fragment>\n      );\n    }\n\n    //when there's not an error, render children untouched\n    return this.props.children;\n  }\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Slide from \"@material-ui/core/Slide\";\nimport { IconButton } from \"@material-ui/core\";\nimport { GetApp } from \"@material-ui/icons\";\nimport { saveAs } from \"file-saver\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\"\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1\n  },\n  iframe: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function PDFDialog({ url, blob, handleClose }) {\n  const classes = useStyles();\n  return (\n    <Dialog\n      fullScreen\n      open={!!url}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n    >\n      <AppBar className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            Aper√ßu\n          </Typography>\n          <IconButton\n            color=\"inherit\"\n            onClick={() => saveAs(blob)}\n            aria-label=\"download\"\n          >\n            <GetApp />\n          </IconButton>\n          <Button autoFocus color=\"inherit\" onClick={handleClose}>\n            Fermer\n          </Button>\n        </Toolbar>\n      </AppBar>\n      <iframe src={url} className={classes.iframe} title=\"Aper√ßu\"></iframe>\n    </Dialog>\n  );\n}\n","import \"./App.css\";\nimport { generatePdf } from \"attestation-derogatoire-de-deplacement/src/js/pdf-util\";\nimport pdfBase from \"attestation-derogatoire-de-deplacement/src/certificate.pdf\";\nimport { Grid, Paper, Divider } from \"@material-ui/core\";\nimport React, { useState, useEffect } from \"react\";\nimport useObjectUrl from \"./utils/use-object-url\";\nimport SimpleTabs from \"./components/simple-tabs\";\nimport Info from \"./components/info\";\nimport History from \"./components/history\";\nimport Form from \"./components/form\";\nimport { isProfileCompleted, blobToBase64 } from \"./utils/utils\";\nimport { Reasons } from \"./components/reasons\";\nimport ErrorBoundary from \"./components/error-boundary\";\nimport PDFDialog from \"./components/pdf-dialog\";\n\nconst PROFILE_INIT = {\n  firstname: \"\",\n  lastname: \"\",\n  birthday: \"\",\n  placeofbirth: \"\",\n  address: \"\",\n  zipcode: \"\",\n  city: \"\"\n};\n\nfunction App() {\n  const [objectURL, object, setObject] = useObjectUrl();\n  const [profile, setProfile] = useState(\n    JSON.parse(localStorage.getItem(\"profile\")) || PROFILE_INIT\n  );\n  const [histortItems, setHistortItems] = useState(\n    JSON.parse(localStorage.getItem(\"histortItems\")) || []\n  );\n  const [editProfile, setEditProfile] = useState(!isProfileCompleted(profile));\n\n  //Edit profil mode\n  const toggleEditProfile = () => {\n    setEditProfile((b) => !b);\n  };\n\n  //Save profile to local storage\n  useEffect(() => {\n    localStorage.setItem(\"profile\", JSON.stringify(profile));\n  }, [profile]);\n\n  //Save histortItems to local storage\n  useEffect(() => {\n    localStorage.setItem(\"histortItems\", JSON.stringify(histortItems));\n  }, [histortItems]);\n\n  //Handle form changes\n  const onChangeProfile = (event) => {\n    setProfile((p) => ({ ...p, [event.target.name]: event.target.value }));\n  };\n\n  const openHistortItem = async (item) => {\n    if (!item) return;\n\n    const res = await fetch(item.base64);\n    const blob = await res.blob();\n    setObject(blob);\n  };\n\n  return (\n    <Paper className=\"App\">\n      <ErrorBoundary>\n        <SimpleTabs\n          tabs={(handleChangeIndex) => [\n            {\n              title: \"Info\",\n              content: (\n                <Info\n                  handleClear={() => {\n                    localStorage.clear();\n                    setEditProfile(true);\n                    setProfile(PROFILE_INIT);\n                    setHistortItems([]);\n                    handleChangeIndex(1);\n                  }}\n                />\n              )\n            },\n            {\n              title: \"G√©n√©rer\",\n              content: (\n                <Grid\n                  container\n                  direction=\"column\"\n                  justify=\"center\"\n                  alignItems=\"stretch\"\n                  spacing={3}\n                >\n                  <Form\n                    editProfile={editProfile}\n                    toggleEditProfile={toggleEditProfile}\n                    profile={profile}\n                    onChangeProfile={onChangeProfile}\n                  />\n                  {!editProfile && (\n                    <React.Fragment>\n                      <Divider />\n                      <Reasons\n                        selectReason={async (reason) => {\n                          const creationInstant = new Date();\n                          const datesortie = creationInstant.toLocaleDateString(\n                            \"fr-FR\"\n                          );\n                          const heuresortie = creationInstant\n                            .toLocaleTimeString(\"fr-FR\", {\n                              hour: \"2-digit\",\n                              minute: \"2-digit\"\n                            })\n                            .replace(\":\", \"h\");\n\n                          const item = {\n                            ...profile,\n                            birthday: new Date(\n                              Date.parse(profile.birthday)\n                            ).toLocaleDateString(\"fr-FR\"),\n                            datesortie,\n                            heuresortie\n                          };\n                          const blob = await generatePdf(item, reason, pdfBase);\n                          const base64 = await blobToBase64(blob);\n\n                          const histortItem = { ...item, reason, base64 };\n\n                          setHistortItems((items) => [\n                            histortItem,\n                            ...items.filter((value, index) => index < 5)\n                          ]);\n                          handleChangeIndex(2);\n                          openHistortItem(histortItem);\n                        }}\n                      />\n                    </React.Fragment>\n                  )}\n                </Grid>\n              )\n            },\n            {\n              title: \"Historique\",\n              content: (\n                <History\n                  histortItems={histortItems}\n                  setHistortItems={setHistortItems}\n                  openHistortItem={openHistortItem}\n                />\n              )\n            }\n          ]}\n        />\n\n        <PDFDialog\n          url={objectURL}\n          blob={object}\n          handleClose={() => {\n            setObject(null);\n          }}\n        />\n      </ErrorBoundary>\n    </Paper>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}